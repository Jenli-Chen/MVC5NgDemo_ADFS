--Use BGoodMusicDev;
--USE MVCDemo;
GO

Declare @Use_MigrationHistory bit; Select @Use_MigrationHistory = 0;
--Declare @Use_MigrationHistory bit; Select @Use_MigrationHistory = 1;

Print 'Use_MigrationHistory = ' + ISNULL(Convert(varchar,@Use_MigrationHistory),'??');

CREATE TABLE [dbo].[bgm_UserInfo] (
    [Id] [uniqueidentifier] NOT NULL,
    [CreationTime] [datetime] NOT NULL,
    [UserIdentifier] [nvarchar](384) NOT NULL,
    [Token] [nvarchar](max) NOT NULL,
    CONSTRAINT [PK_dbo.bgm_UserInfo] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_UserIdId] ON [dbo].[bgm_UserInfo]([UserIdentifier], [Id])

IF ISNULL(@Use_MigrationHistory,0) = 1 Begin

INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201410260004036_S2_AddUserInfo', N'BGoodMusic.EFDAL.Migrations.Configuration',  0x1F8B0800000000000400D559CD6EE33610BE17E83B083AB540D6B2936C9B1AF22E123B098CC649106517BD2D6869EC1095282D4905368A3E590F7DA4BE4287A2FE252BFEC906ED4DA638DF0C67BEE1CCC8FFFCF5B7FD7115F8C633704143363207BDBE690073438FB2E5C88CE5E2DD99F9F1C3F7DFD9975EB0323E67FB4ED43E946462643E49190D2D4BB84F1010D10BA8CB43112E64CF0D038B78A175DCEFFF620D06162084895886613FC44CD200921FF8731C32172219137F167AE08B741DDF3809AA714B0210117161645E5C87A1378B05757B975793F31BD338F729413B1CF017A641180B259168E5F0930047F2902D9D081788FFB88E00F72D882F20B57E586CDFF620FD637510AB10CCA0DC58C830D8117070927AC6AA8BEFE55F33F71CFAEE127D2CD7EAD489FF46E6033C01E182F8A651D7361CFB5CEDACF85707A3978B1D198D97473927FABDE3DEE0F4F4E4A7DEE0C818C7BE8C398C18C4922BC1FB78EE53F757583F86BF031BB1D8F7CBB6A2B5F8AEB2804BF73C8C80CBF5032CD2134C3DD3B0AA72565D30172BC9E8A34D993C39368D5B544EE63EE45428B9C19121876B60C08904EF9E48099C290C489CD9D05ED33541A94C9B7A7E4492B728EC06D1421A642F8049CC530A9541BA656E42B722839983578069CCC8EA06D8523E8DCCF70374DE155D8197ADA4D67C62146F0C14923C7E51D1F91298473AD41CF74FCFB6D2D3E915DB2AE8DF9914784BF0295B84BBE54426F57F4F89EB987A7B65C46DC85E0CF59843825126F4DE5991783C49C30505DEC19F93B3D3C3E9D392952A4A1D6AF1F15BB316CBA4241423919A54506F72A1DEC14AB6B0181D971259A43654CFA9B11D90F52A214CA3B046D7D75EA98458DD3059864C25046D4845DEB539203F6AD10A58BA17C87A066B43D360CF481461704A4D44BA6238BA8318BF73762FAE81C6B05CD15263736B734D98346409B5B7A81A2DBDA25C484C0332272AFC632F686C6B0BEC066F671A1BB1ABDF1C45003211F55C2792EEA94A61AEC114DEBCC20306988EC95921B7A7DC65346493868EF884B7DC47E3D08F03B6E94EEB92D645B72CAF57B647D0175219A1AD6476DA9097DC8A1DF9EAF64845212E2315ABDB236595B68C93AD35516CAB16D83A81AC06836A55A7CEC9AD185BBD260E226D7EA3ECCED9CDA2DF86B2D5CA58C6A9BED91EB15E1ECB98F5773B24862E7A95CCD04B6F4CA0465DA86FC9B5E7F5A15607ECF44E7E79C26C5CD27A8B69A0739EA9A72E68672D90AF3DB5A1E77CF5C73EC5F3161B6684D10508A93B3BEC6855E75C1953FF3B23A32584E76F3B37BE797F4A955B5F1CCA769D8F4A539A87CFF2D0294D03DC7370A9FE3EF2F3C1335B37E43683567DA263CF84BB4F843767BADD70AB035C2BAA1EE15E793E7B73EEC58C7E8D81962ECE466F3D651EAC46E61F89ECD098FEF645DFB553EFC8B8E378130C8D63E3CF9DC9D03638ED4DD4F6C1A988DB3E871AA843D567AE4306AACC9C1F02B2FAF15587A466CBBDE5F8D33DFDE89A806199E304F3A86D9D2F832FE5E969CB09A97338DAA4E7E0F1A9590E6DABFC59D69E80A0CB02427DA465E02A8614A0D91E6549165E3C60D9A26C4B2DFA339004294DCE39F292B8125FBB204432557F267E8C5B2E833978537617CB2896E7424030F72B5FE06CAB5B7F3223566DB6EF22F54BBCC611D04CAAB2F28E5DC4D4F772BBAF5A28BB014291332D6C68952355815BAE73A4E647964D40A9FB2610E1E58CB9FE0841E42398B8630E79867D6C4386DDC092B8EBACABD90CF27220AA6EB727942C3909448A51C8ABBF1A2CF55FC3877F01EEA5E82F9D180000 , N'6.1.1-30610')

End;
